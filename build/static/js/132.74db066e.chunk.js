"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[132],{4132:(e,n,a)=>{a.r(n),a.d(n,{default:()=>r});var t=a(7313),s=a(1387),i=(a(8282),a(6417));const r=()=>{const[e,n]=(0,t.useState)(""),[a,r]=(0,t.useState)(0),[l,d]=(0,t.useState)("RollUnder"),[c,o]=(0,t.useState)("bg-sky-600"),[m,u]=(0,t.useState)("bg-gray-300"),[g,h]=(0,t.useState)(0),[p,x]=(0,t.useState)(1),[y,b]=(0,t.useState)(""),v=(0,t.useRef)(null),[f,N]=(0,t.useState)([]),j=(0,t.useRef)(1),_=(0,t.useRef)(""),w=(0,t.useRef)(0),k=(0,t.useRef)(0),S=(0,t.useRef)("RollUnder");(0,t.useEffect)((()=>{j.current=p,_.current=e,w.current=a,k.current=g,S.current=l}),[p,a,e,g,l]);let P="",D=0;function C(e){"up"===e?(d("RollUnder"),o("bg-sky-600"),u("bg-gray-300")):"down"===e&&(d("RollOver"),o("bg-gray-300"),u("bg-sky-600"))}return(0,t.useEffect)((()=>(v.current=new WebSocket("wss://bch.games/api/graphql","graphql-transport-ws"),v.current.onopen=()=>{v.current.send(JSON.stringify({type:"connection_init"}))},v.current.onmessage=e=>{const n=JSON.parse(e.data);"0d7d8090-9791-11ee-b9d1-0242ac120002"===n.id&&n.payload?P=n.payload.data.authenticate.username:"b37aeb93-b24a-41c4-8ac6-c8a496d99f88"===n.id&&n.payload?n.payload.errors&&"INSUFFICIENT_FUNDS_ERROR"===n.payload.errors[0].message?(0,s.Am)("Not enough BCH",{hideProgressBar:!1,autoClose:2e3,type:"error"}):n.payload.data.playDice&&(N((e=>[...e,{username:P,data:n.payload.data.playDice}])),D<j.current&&setTimeout((()=>{v.current.send(JSON.stringify({id:"b37aeb93-b24a-41c4-8ac6-c8a496d99f88",payload:{query:"mutation ($amount: Float!, $clientSeed: String!, $dividingPoint: Float!, $mode: DiceGameMode!) {\n  playDice(\n    amount: $amount\n    clientSeed: $clientSeed\n    dividingPoint: $dividingPoint\n    mode: $mode\n  ) {\n    id\n    isWin\n    profit\n    details {\n      ... on DiceGameDetails {\n        __typename\n        result\n        dividingPoint\n      }\n      ... on TargetGameDetails {\n        __typename\n      }\n      ... on MinesGameDetails {\n        __typename\n      }\n      ... on TowerGameDetails {\n        __typename\n      }\n      ... on HiloGameDetails {\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}",variables:{dividingPoint:parseInt(k.current),mode:S.current,amount:parseInt(w.current),clientSeed:_.current}},type:"subscribe"}))}),500),D++):console.log("response =>",n.id)},()=>{v.current&&v.current.close()})),[]),(0,i.jsxs)("div",{className:"w-screen",children:[(0,i.jsxs)("div",{className:"inline-flex mb-3",children:[(0,i.jsx)("div",{className:"flex items-center justify-center mr-[70px]",children:(0,i.jsx)("div",{className:"text-[20px]",children:"UserId"})}),(0,i.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){n(e.target.value)}})]}),(0,i.jsxs)("div",{className:"inline-flex w-full mb-3",children:[(0,i.jsx)("div",{className:"flex items-center justify-center mr-[32px]",children:(0,i.jsx)("div",{className:"text-[20px]",children:"UserToken"})}),(0,i.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){b(e.target.value)}})]}),(0,i.jsxs)("div",{className:"inline-flex w-full mb-5",children:[(0,i.jsx)("div",{className:"flex items-center mr-[58px]",children:(0,i.jsx)("div",{className:"text-[20px]",children:"Amount"})}),(0,i.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){r(e.target.value)}})]}),(0,i.jsxs)("div",{className:"inline-flex w-full mb-5",children:[(0,i.jsx)("button",{className:"rounded-full ".concat(c," hover:bg-gray-500 ml-3"),onClick:()=>{C("up")},children:(0,i.jsx)("div",{className:"mx-[20px]",children:"UP"})}),(0,i.jsx)("button",{className:"rounded-full ".concat(m," hover:bg-gray-500 ml-3"),onClick:()=>{C("down")},children:(0,i.jsx)("div",{className:"mx-[20px]",children:"Down"})})]}),(0,i.jsxs)("div",{className:"inline-flex w-full mb-5",children:[(0,i.jsx)("div",{className:"flex items-center mr-[28px]",children:(0,i.jsx)("div",{className:"text-[20px]",children:"Play Number"})}),(0,i.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){x(parseInt(e.target.value))}})]}),(0,i.jsxs)("div",{className:"inline-flex w-full mb-5",children:[(0,i.jsx)("div",{className:"flex items-center mr-[20px]",children:(0,i.jsx)("div",{className:"text-[20px]",children:"Dividing Point"})}),(0,i.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){h(e.target.value)}}),(0,i.jsx)("button",{className:"rounded-full bg-gray-300 hover:bg-gray-500 ml-3",onClick:()=>{(async()=>{""===e?(0,s.Am)("Please input UserID",{hideProgressBar:!1,autoClose:2e3,type:"error"}):0===a?(0,s.Am)("Please input Amount",{hideProgressBar:!1,autoClose:2e3,type:"error"}):0===g?(0,s.Am)("Please input Dividing",{hideProgressBar:!1,autoClose:2e3,type:"error"}):""===y?(0,s.Am)("Please input userToken",{hideProgressBar:!1,autoClose:2e3,type:"error"}):(D=0,v.current&&(setTimeout((()=>{v.current.send(JSON.stringify({id:"0d7d8090-9791-11ee-b9d1-0242ac120002",payload:{query:'{\n  authenticate(\n    authToken: \n"'+y+'"\n  ) {\n    _id\n    username\n    authToken\n    email\n    twoFactorEnabled\n    role\n    countryBlock\n    __typename\n  }\n}',variables:{}},type:"subscribe"}))}),1e3),setTimeout((()=>{v.current.send(JSON.stringify({id:"b37aeb93-b24a-41c4-8ac6-c8a496d99f88",payload:{query:"mutation ($amount: Float!, $clientSeed: String!, $dividingPoint: Float!, $mode: DiceGameMode!) {\n  playDice(\n    amount: $amount\n    clientSeed: $clientSeed\n    dividingPoint: $dividingPoint\n    mode: $mode\n  ) {\n    id\n    isWin\n    profit\n    details {\n      ... on DiceGameDetails {\n        __typename\n        result\n        dividingPoint\n      }\n      ... on TargetGameDetails {\n        __typename\n      }\n      ... on MinesGameDetails {\n        __typename\n      }\n      ... on TowerGameDetails {\n        __typename\n      }\n      ... on HiloGameDetails {\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}",variables:{dividingPoint:parseInt(k.current),mode:S.current,amount:parseInt(w.current),clientSeed:_.current}},type:"subscribe"}))}),2e3)))})()},children:(0,i.jsx)("div",{className:"mx-[20px]",children:"Play"})})]}),0!=f.length?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"table text-[15px] max-w-xs w-full",children:[(0,i.jsx)("div",{className:"table-header-group",children:(0,i.jsxs)("div",{className:"table-row",children:[(0,i.jsx)("div",{className:"table-cell text-left",children:"No"}),(0,i.jsx)("div",{className:"table-cell text-left",children:"User"}),(0,i.jsx)("div",{className:"table-cell text-left",children:"Profit"}),(0,i.jsx)("div",{className:"table-cell text-left",children:"Result"})]})}),(0,i.jsx)("div",{className:"table-row-group",children:f.map(((e,n)=>(0,i.jsxs)("div",{className:"table-row",children:[(0,i.jsx)("div",{className:"table-cell",children:n+1}),(0,i.jsx)("div",{className:"table-cell",children:e.username}),(0,i.jsx)("div",{className:"table-cell",children:e.data.profit}),(0,i.jsx)("div",{className:"table-cell",children:e.data.details.result})]},n)))})]})}):null,(0,i.jsx)(s.Ix,{})]})}}}]);