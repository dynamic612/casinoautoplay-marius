"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[239],{4239:(e,a,t)=>{t.r(a),t.d(a,{default:()=>l});var n=t(7313),r=t(1387),s=(t(8282),t(6417));const l=()=>{const[e,a]=(0,n.useState)(""),[t,l]=(0,n.useState)(0),[i,c]=(0,n.useState)(0),[d,o]=(0,n.useState)(1),[m,u]=(0,n.useState)(""),p=(0,n.useRef)(null),[g,h]=(0,n.useState)([]);let x="",y=0;const b=(0,n.useRef)(0),v=(0,n.useRef)(0),f=(0,n.useRef)(""),N=(0,n.useRef)(0);(0,n.useEffect)((()=>{f.current=e,v.current=t,b.current=i,N.current=d}),[d,t,e,i]);return(0,n.useEffect)((()=>(p.current=new WebSocket("wss://bch.games/api/graphql","graphql-transport-ws"),p.current.onopen=()=>{p.current.send(JSON.stringify({type:"connection_init"}))},p.current.onmessage=e=>{const a=JSON.parse(e.data);"0d7d8090-9791-11ee-b9d1-0242ac120002"===a.id&&a.payload?x=a.payload.data.authenticate.username:"b37aeb93-b24a-41c4-8ac6-c8a496d99f88"===a.id&&a.payload?a.payload.errors&&"INSUFFICIENT_FUNDS_ERROR"===a.payload.errors[0].message?(0,r.Am)("Not enough BCH",{hideProgressBar:!1,autoClose:2e3,type:"error"}):a.payload.data.playTarget&&(h((e=>[...e,{username:x,data:a.payload.data.playTarget}])),y<N.current&&(setTimeout((()=>{p.current.send(JSON.stringify({id:"b37aeb93-b24a-41c4-8ac6-c8a496d99f88",payload:{query:"mutation ($amount: Float!, $clientSeed: String!, $targetMultiplier: Float!) {\n  playTarget(\n    amount: $amount\n    clientSeed: $clientSeed\n    targetMultiplier: $targetMultiplier\n  ) {\n    id\n    isWin\n    profit\n    details {\n      ... on DiceGameDetails {\n        __typename\n      }\n      ... on TargetGameDetails {\n        __typename\n        result\n      }\n      ... on MinesGameDetails {\n        __typename\n      }\n      ... on TowerGameDetails {\n        __typename\n      }\n      ... on HiloGameDetails {\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}",variables:{targetMultiplier:parseInt(b.current),amount:parseInt(v.current),clientSeed:f.current}},type:"subscribe"}))}),500),y++)):console.log("response =>",a.id)},()=>{p.current&&p.current.close()})),[]),(0,s.jsxs)("div",{className:"w-screen",children:[(0,s.jsxs)("div",{className:"inline-flex mb-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mr-[70px]",children:(0,s.jsx)("div",{className:"text-[20px]",children:"UserId"})}),(0,s.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){a(e.target.value)}})]}),(0,s.jsxs)("div",{className:"inline-flex w-full mb-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mr-[32px]",children:(0,s.jsx)("div",{className:"text-[20px]",children:"UserToken"})}),(0,s.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){u(e.target.value)}})]}),(0,s.jsxs)("div",{className:"inline-flex w-full mb-5",children:[(0,s.jsx)("div",{className:"flex items-center mr-[58px]",children:(0,s.jsx)("div",{className:"text-[20px]",children:"Amount"})}),(0,s.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){l(e.target.value)}})]}),(0,s.jsxs)("div",{className:"inline-flex w-full mb-5",children:[(0,s.jsx)("div",{className:"flex items-center mr-[11px]",children:(0,s.jsx)("div",{className:"text-[20px]",children:"Play Number"})}),(0,s.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){o(parseInt(e.target.value))}})]}),(0,s.jsxs)("div",{className:"inline-flex w-full mb-5",children:[(0,s.jsx)("div",{className:"flex items-center mr-[20px]",children:(0,s.jsx)("div",{className:"text-[20px]",children:"Target"})}),(0,s.jsx)("input",{className:"items-center text-sm leading-6 text-black rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){c(e.target.value)}}),(0,s.jsx)("button",{className:"rounded-full bg-gray-300 hover:bg-gray-500 ml-3",onClick:()=>{(async()=>{""===e?(0,r.Am)("Please input UserID",{hideProgressBar:!1,autoClose:2e3,type:"error"}):0===t?(0,r.Am)("Please input Amount",{hideProgressBar:!1,autoClose:2e3,type:"error"}):0===i?(0,r.Am)("Please input Dividing",{hideProgressBar:!1,autoClose:2e3,type:"error"}):""===m?(0,r.Am)("Please input userToken",{hideProgressBar:!1,autoClose:2e3,type:"error"}):(y=0,p.current&&(setTimeout((()=>{p.current.send(JSON.stringify({id:"0d7d8090-9791-11ee-b9d1-0242ac120002",payload:{query:'{\n  authenticate(\n    authToken: \n"'+m+'"\n  ) {\n    _id\n    username\n    authToken\n    email\n    twoFactorEnabled\n    role\n    countryBlock\n    __typename\n  }\n}',variables:{}},type:"subscribe"}))}),1e3),setTimeout((()=>{p.current.send(JSON.stringify({id:"b37aeb93-b24a-41c4-8ac6-c8a496d99f88",payload:{query:"mutation ($amount: Float!, $clientSeed: String!, $targetMultiplier: Float!) {\n  playTarget(\n    amount: $amount\n    clientSeed: $clientSeed\n    targetMultiplier: $targetMultiplier\n  ) {\n    id\n    isWin\n    profit\n    details {\n      ... on DiceGameDetails {\n        __typename\n      }\n      ... on TargetGameDetails {\n        __typename\n        result\n      }\n      ... on MinesGameDetails {\n        __typename\n      }\n      ... on TowerGameDetails {\n        __typename\n      }\n      ... on HiloGameDetails {\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}",variables:{targetMultiplier:parseInt(b.current),amount:parseInt(v.current),clientSeed:f.current}},type:"subscribe"}))}),2e3)))})()},children:(0,s.jsx)("div",{className:"mx-[20px]",children:"Play"})})]}),0!=g.length?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"table text-[15px] max-w-xs w-full",children:[(0,s.jsx)("div",{className:"table-header-group",children:(0,s.jsxs)("div",{className:"table-row",children:[(0,s.jsx)("div",{className:"table-cell text-left",children:"No"}),(0,s.jsx)("div",{className:"table-cell text-left",children:"User"}),(0,s.jsx)("div",{className:"table-cell text-left",children:"Profit"}),(0,s.jsx)("div",{className:"table-cell text-left",children:"Result"})]})}),(0,s.jsx)("div",{className:"table-row-group",children:g.map(((e,a)=>(0,s.jsxs)("div",{className:"table-row",children:[(0,s.jsx)("div",{className:"table-cell",children:a+1}),(0,s.jsx)("div",{className:"table-cell",children:e.username}),(0,s.jsx)("div",{className:"table-cell",children:e.data.profit}),(0,s.jsx)("div",{className:"table-cell",children:e.data.details.result})]},a)))})]})}):null,(0,s.jsx)(r.Ix,{})]})}}}]);